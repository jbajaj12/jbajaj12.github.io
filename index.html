<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>BCM</title>
  <meta name="description" content="BCM">
  <meta name="author" content="JB">
  <link rel="stylesheet" type="text/css" href="style.css" />
<style>
@import url('https://fonts.googleapis.com/css?family=Josefin+Sans|Nunito|Play|Raleway|Titillium+Web');
</style>

<style>
    * {
    font-family: 'Nunito', sans-serif;
    }
</style>
</head>
<body>

<div class="container">
<!-----------------------------------BCM Machines ---------------------------------------->

<h1 style="color: white;">Cambira Live Broadcast Manager Portal</h1>

    

<div >
  <button type="button" onclick="UserAction()">BCM Machines<span></span></button>
   <p style="color: white;" id="demo"></p>
  </div>
    
<div >
  <button type="button" onclick="UserAction()">BCM Events<span></span></button>
    <p id="machinelist"></p>
  </div>

        
<div >
  <button type="button" onclick="UserAction()">BCM Machines<span></span></button>
    <p id="machinelist"></p>
  </div>
    
</div>
    
<script>
function UserAction() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        myFunction(this);
      //document.getElementById("machinelist").innerHTML = this.responseText;
    }
  };
    xhttp.open("GET", "http://localhost:8753/CambriaBM/v1/Machines", true);
    xhttp.send();
}
function myFunction(xml) {
  var i, txt;
  var xmlDoc = xml.responseXML;
    txt = "";
  var table="<tr><th>Machines</th></tr>";
  var x = xmlDoc.getElementsByTagName("Machine");
  for (i = 0; i <x.length; i++) { 
//    table += "<tr><td>" +
//    x[i].getAttribute('Identifier')[i]
//    "</td></tr>";
      txt += x[i].getAttribute('Identifier')  + "<br>";
  }
  document.getElementById("demo").innerHTML = txt;
}
</script>
    
</body>
</html>

